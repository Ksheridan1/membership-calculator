<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exterior Service Membership Calculator</title>
  <style>
    :root {
      --bg: #f3f6fb;
      --card: #ffffff;
      --text: #1f2937;
      --muted: #6b7280;
      --accent: #0f766e;
      --accent-hover: #115e59;
      --border: #d1d5db;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(180deg, #eaf2ff 0%, var(--bg) 100%);
      color: var(--text);
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 24px;
    }

    .calculator {
      width: min(860px, 100%);
      background: var(--card);
      border-radius: 14px;
      box-shadow: 0 12px 30px rgba(31, 41, 55, 0.12);
      padding: 26px;
    }

    h1 { margin: 0 0 8px; font-size: 1.7rem; }

    .subtext {
      margin: 0 0 18px;
      color: var(--muted);
      line-height: 1.4;
    }

    .grid {
      display: grid;
      gap: 14px;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      align-items: end;
    }

    .field { display: flex; flex-direction: column; gap: 6px; }

    label { font-weight: 600; font-size: 0.92rem; }

    input, select {
      width: 100%;
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 10px 12px;
      font-size: 1rem;
      transition: border-color 0.15s ease;
      background: #fff;
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(15, 118, 110, 0.15);
    }

    .inline-note {
      font-size: 0.85rem;
      color: var(--muted);
      margin-top: 2px;
    }

    button {
      margin-top: 18px;
      width: 100%;
      border: none;
      border-radius: 9px;
      background: var(--accent);
      color: #fff;
      font-size: 1rem;
      font-weight: 700;
      padding: 12px;
      cursor: pointer;
      transition: background 0.15s ease;
    }

    button:hover { background: var(--accent-hover); }

    .results {
      margin-top: 20px;
      border: 1px solid #dbe5ff;
      background: #f8fbff;
      border-radius: 10px;
      padding: 14px;
      display: none;
    }

    .results h2 { margin: 0 0 10px; font-size: 1.1rem; }

    .result-row {
      display: flex;
      justify-content: space-between;
      gap: 16px;
      padding: 7px 0;
      border-bottom: 1px dashed #d7def4;
    }

    .result-row:last-child { border-bottom: none; }

    .amount { font-weight: 700; }
  </style>
</head>
<body>
  <main class="calculator">
    <h1>Annual Membership Price Calculator</h1>
    <p class="subtext">
      Enter raw retail inputs. We compute annual retail, a pay-as-you-go monthly (premium markup),
      and a membership monthly (discount off retail monthly).
    </p>

    <div class="grid">
      <!-- Membership controls -->
      <div class="field">
        <label for="nonMemberMarkup">Non-member monthly premium (%)</label>
        <input id="nonMemberMarkup" type="number" min="0" step="0.01" value="15" />
        <div class="inline-note">Used for pay-as-you-go monthly pricing.</div>
      </div>

      <div class="field">
        <label for="membershipDiscount">Membership discount</label>
        <select id="membershipDiscount">
          <option value="0">No discount (0%)</option>
          <option value="0.10">Standard (10% off)</option>
          <option value="0.15" selected>Premium (15% off)</option>
          <option value="0.20">Elite (20% off)</option>
        </select>
        <div class="inline-note">Applied to retail monthly (annual retail ÷ 12).</div>
      </div>

      <div class="field">
        <label for="softWash">Soft wash price ($)</label>
        <input id="softWash" type="number" min="0" step="0.01" placeholder="0.00" />
      </div>

      <div class="field">
        <label for="gutterFeet">Gutter linear feet</label>
        <input id="gutterFeet" type="number" min="0" step="1" placeholder="0" />
      </div>

      <div class="field">
        <label for="gutterRate">Price per gutter foot ($)</label>
        <input id="gutterRate" type="number" min="0" step="0.01" placeholder="0.00" />
      </div>

      <div class="field">
        <label for="windowCount">Window count</label>
        <input id="windowCount" type="number" min="0" step="1" placeholder="0" />
      </div>

      <div class="field">
        <label for="windowRate">Price per window ($)</label>
        <input id="windowRate" type="number" min="0" step="0.01" placeholder="0.00" />
      </div>

      <div class="field">
        <label for="drivewayPrice">Driveway pressure wash price ($)</label>
        <input id="drivewayPrice" type="number" min="0" step="0.01" placeholder="0.00" />
      </div>

      <div class="field">
        <label for="waterMonthly">Water feature monthly price ($)</label>
        <input id="waterMonthly" type="number" min="0" step="0.01" placeholder="0.00" />
      </div>
    </div>

    <button id="calculateBtn" type="button">Calculate</button>

    <section class="results" id="results" aria-live="polite">
      <h2>Results</h2>

      <div class="result-row">
        <span>Annual retail value</span>
        <span class="amount" id="annualRetailValue">$0.00</span>
      </div>

      <div class="result-row">
        <span>Retail monthly (annual ÷ 12)</span>
        <span class="amount" id="retailMonthly">$0.00</span>
      </div>

      <div class="result-row">
        <span>Non-member monthly (retail monthly × premium)</span>
        <span class="amount" id="nonMemberMonthly">$0.00</span>
      </div>

      <div class="result-row">
        <span>Membership monthly (retail monthly − discount)</span>
        <span class="amount" id="memberMonthly">$0.00</span>
      </div>

      <div class="result-row">
        <span>Membership annual (membership monthly × 12)</span>
        <span class="amount" id="memberAnnual">$0.00</span>
      </div>

      <div class="result-row">
        <span>Annual savings vs retail</span>
        <span class="amount" id="annualSavings">$0.00</span>
      </div>
    </section>
  </main>

  <script>
    const getInputNumber = (id) => Number.parseFloat(document.getElementById(id).value) || 0;

    const asCurrency = (value) =>
      new Intl.NumberFormat("en-US", { style: "currency", currency: "USD" }).format(value);

    function calculateMembershipPricing() {
      // Raw retail inputs
      const softWashPrice = getInputNumber("softWash");
      const gutterLinearFeet = getInputNumber("gutterFeet");
      const gutterPricePerFoot = getInputNumber("gutterRate");
      const windowCount = getInputNumber("windowCount");
      const pricePerWindow = getInputNumber("windowRate");
      const drivewayPressureWashPrice = getInputNumber("drivewayPrice");
      const waterFeatureMonthlyPrice = getInputNumber("waterMonthly");

      // Controls
      const nonMemberMarkupPct = getInputNumber("nonMemberMarkup") / 100;  // e.g., 15% => 0.15
      const membershipDiscountPct = Number.parseFloat(document.getElementById("membershipDiscount").value) || 0;

      // Annual retail
      const annualRetailTotal =
        softWashPrice +
        (gutterLinearFeet * gutterPricePerFoot) +
        (windowCount * pricePerWindow) +
        drivewayPressureWashPrice +
        (waterFeatureMonthlyPrice * 12);

      // Retail monthly
      const retailMonthly = annualRetailTotal / 12;

      // Non-member monthly (premium markup)
      const nonMemberMonthly = retailMonthly * (1 + nonMemberMarkupPct);

      // Membership monthly (discount off retail monthly)
      const memberMonthly = retailMonthly * (1 - membershipDiscountPct);
      const memberAnnual = memberMonthly * 12;

      // Savings vs retail (annual)
      const annualSavings = annualRetailTotal - memberAnnual;

      // Display
      document.getElementById("annualRetailValue").textContent = asCurrency(annualRetailTotal);
      document.getElementById("retailMonthly").textContent = asCurrency(retailMonthly);
      document.getElementById("nonMemberMonthly").textContent = asCurrency(nonMemberMonthly);
      document.getElementById("memberMonthly").textContent = asCurrency(memberMonthly);
      document.getElementById("memberAnnual").textContent = asCurrency(memberAnnual);
      document.getElementById("annualSavings").textContent = asCurrency(Math.max(0, annualSavings));

      document.getElementById("results").style.display = "block";
    }

    document.getElementById("calculateBtn").addEventListener("click", calculateMembershipPricing);
  </script>
</body>
</html>
